# 第九章   顺序容器

**1. 一个容器就是一些特定类型对象的集合。**

**2. 顺序容器 为我们提供了控制元素 存储和访问顺序的能力。**

- **这种顺序不依赖于元素的值，而是元素加入容器时的位置相对应**
- **在 第11章会介绍 有序和无序关联的容器，根据关键字的值来存储元素**

## 9.1    顺序容器概述

**1. 标准库中的顺序容器 P292 表 9.1**

*新标准库的容器比旧版本的快得多，原因在后续章节介绍*

- #### 确定使用哪种顺序容器
  -  **除非你有很好的理由选择其他容器，否则应使用 vector**
  - **如果你的程序有很多小元素，且空间的额外开销很重要，则不要使用 list 或者 forward_list**
  - **如果程序要求随机访问元素，应该使用 vector 或 deque**
  - **如果程序要求在容器的 中间 插入或者删除元素，应使用 list 或 forward_list**
  - **如果程序需要在 头尾位置 插入或者删除元素，但不会在中间位置进行插入或删除操作，则使用 deque**
  - **如果程序只有在 读取输入 时才需要在容器中间位置插入元素，随后需要随机访问则：**
    - **首先，确定是否真的需要在容器中间位置添加元素。标准库中的 sort函数，可以重新排列容器中的元素**
    - **如果必须在中间位置插入元素，考虑在输入阶段使用 list ，一旦输入完成，将 list 中的内容拷贝到一个vector 中**
  - ***如果既要随机访问，又要在容器中插入？ 则需要对 list 或者 forward_list 与 vector 或者 deque 在实际应用中进行性能测试***



## 9.2    容器库概览

*本节将介绍 所有容器 都适用的操作，本章剩余部分将会聚焦于仅适用于顺序容器的操作*

- #### 对容器可以保存的元素类型的限制

  - 虽然我们在可以容器中几乎保存任何类型，但是某些容器对元素类型有其自己的特殊要求

### 9.2.1    迭代器

- #### 迭代器范围

  - **左闭合区间**

- #### 使用左闭合范围苑蕴含的变成假定

  - 如果 begin 与 end 相对，则范围为空
  - 如果 begin 与 end 不等，则范围至少包含一个元素，且 begin 指向该范围中的第一个元素
  - 我们可以对 begin 递增若干次，使得 begin == end

### 9.2.2     容器类型成员

- **表9.2开头部分**

### 9.2.3    begin 和 end 成员

- **r 开头的版本返回 反向迭代器**
- **c 开头的版本返回 const 迭代器**
- *当不需要写访问时，应使用 cbegin 和 cend*

### 9.2.4    容器定义和初始化

- #### 将一个容器初始化为另一个容器的拷贝

  1. 直接拷贝整个容器
     - **两个容器的类型 和 元素类型 必须匹配**

  2. 拷贝由一个迭代器对指定的元素范围
     - **只要求能将要拷贝的元素转换为要初始化的元素即可**

- #### 列表初始化

- #### 顺序容器大小相关的构造函数

  - 只有顺序容器的构造函数才接受大小参数，关联容器不支持

- #### 标准库 array 具有固定大小

### 9.2.5    赋值和 swap

*如果两个容器原本的大小不同，赋值运算后，两者的大小都与右边容器的原大小相同*

- #### 使用 assign （仅顺序容器）（不适用于 array）

- #### 使用 swap

***1. 赋值相关运算，会导致指向 左边容器 内部的迭代器、引用和指针失效。***

***2. swap 操作将容器内容交换，不会导致指向容器的迭代器、引用和指针失效（array 和 string 除外）***























































